## 目录

1. [谈谈你关于前端优化的经验](#谈谈你关于前端优化的经验)
2. [谈谈如何使用前端缓存](#谈谈如何使用前端缓存)
3. [单个请求数据量过大，如何优化？请做详细描述！](#单个请求数据量过大如何优化请做详细描述)
4. [谈谈css js 加载的顺序对页面性能的影响！](#css-javascript如何压缩引入)
5. [如果页面中图片太多，从性能上来说，如何提高性能？](#如果页面中图片太多从性能上来说如何提高性能)
6. [详解IIS如何调优？](#详解iis如何调优)
7. [谈谈你在之前工作中，有关于后端性能优化的经验！](#谈谈你在之前工作中有关于后端性能优化的经验)
8. [谈谈你了解的缓存](#谈谈你了解的缓存)
9. [请描述Redis的特点](#请描述redis的特点)
10. [谈谈stringbuilder和stringbuffer区别](#谈谈stringbuilder和stringbuffer区别)
11. [谈谈ArrayList和List<>的性能区别](#谈谈arraylist和list的性能区别)
12. [说说 123+”字符串” 和 123.Tostring() 的区别](#说说--123字符串--和--123tostring-的区别)
13. [代码中出现 字符串A.ToUpper()==字符串B 或者 字符串A .ToLower()==字符串B，你会怎么处理？](#代码中出现-字符串atoupper字符串b-或者--字符串a-tolower字符串b你会怎么处理)
14. [代码中出现 strCriteria.Trim() == ""， strCriteria为字符串类型变量； 你会怎么调整？](#代码中出现-strcriteriatrim-strcriteria为字符串类型变量-你会怎么调整)
15. [说说装箱拆箱的为什么会有性能问题](#说说装箱拆箱的为什么会有性能问题)
16. [Object类型使用引发的性能问题，如何解决？](#object类型使用引发的性能问题如何解决)
17. [说说foreach 和 for 循环从性能角度的区别](说说foreach-和-for-循环从性能角度的区别)
18. [在多任务执行的时候，使用多线程，应该注意些什么](#在多任务执行的时候使用多线程应该注意些什么)
19. [在一个网站首页，分为多块的数据，例如：有本周top10，本月top10,个人考勤等！多种数据在首页展示，如果让你来开发，除了使用ajax异步加载，还有什么其他方法能够让数据快速的加载出来？ 请详解开发思路！](#在一个网站首页分为多块的数据例如有本周top10本月top10个人考勤等多种数据在首页展示如果让你来开发除了使用ajax异步加载还有什么其他方法能够让数据快速的加载出来-请详解开发思路)
20. [一个电商系统中，某一些订单的数据，可能来源于第三方接口，也可能来源于缓存，也有可能来源于数据库，如何以最高效的方式获取到数据？请详解你的思路？](#一个电商系统中某一些订单的数据可能来源于第三方接口也可能来源于缓存也有可能来源于数据库如何以最高效的方式获取到数据请详解你的思路)
21. [如果有100个任务需要执行，需要快速的去完成，使用多线程如何实现？是否开启100个线程？为什么？](#如果有100个任务需要执行需要快速的去完成使用多线程如何实现是否开启100个线程为什么)
22. [说说在程序中连接数据库查询，如何避免一些性能问题？](#说说在程序中连接数据库查询如何避免一些性能问题)
23. [谈谈在写sql语句的时候，如何提高性能？](#谈谈在写sql语句的时候如何提高性能)
24. [谈谈数据库的索引！使用索引需要注意些什么？](#谈谈数据库的索引使用索引需要注意些什么)
25. [谈谈数据库分库分表的方式](#谈谈数据库分库分表的方式)
26. [谈谈如何做数据库集群？](#谈谈如何做数据库集群)
27. [谈谈数据库如何配置读写分离？](#谈谈数据库如何配置读写分离)
28. [谈谈你了解到的队列有哪些？](#谈谈你了解到的队列有哪些)
29. [如果一个系统出现性能瓶颈，让你来处理的话，说说你的性能优化计划。](#如果一个系统出现性能瓶颈让你来处理的话说说你的性能优化计划)

### 谈谈你关于前端优化的经验

答：

（1）减少 HTTP 请求的次数。我们知道每次发送http请求，建立连接和等待相应会花去相当一部分时间，所以在发送http请求的时候，尽量减少请求的次数，一次请求能取出的数据就不要分多次发送。
（2）启用浏览器缓存，当确定请求的数据不会发生变化时，能够直接读浏览器缓存的就不要向服务端发送请求。比如我们ajax里面有一个参数能够设置请求的时候是否启用缓存，这种情况下就需要我们在发送请求的时候做好相应的缓存处理。
（3）css文件放 在<head>里面，js文件尽量放在页面的底部。因为请求js文件是很花费时间，如果放在<head>里面，就会导致页面的 DOM树呈现需要等待js文件加载完成。这也就是为什么很多网站的源码里面看到引用的文件放在最后的原因。
（4）使用压缩的css和js文件。这个不用多说，网络流量小。
（5）如果条件允许，尽量使用CDN的方式引用文件，这样就能减少网络流量。比如我们常用的网站http://www.bootcdn.cn/。
（6）在写js和css的语法时，尽量避免重复的css，尽量减少js里面循环的次数，诸如此类。

### 谈谈如何使用前端缓存

答：在前端浏览器中，有些数据（比如数据字典中的数据），可以在第一次请求的时候全部拿过来保存在js对象中，以后需要的时候就不用每次都去请求服务器了。对于那些大量使用数据字典来填充下拉框的页面，这种方法可以极大地减少对服务器的访问。这种方法特别适用于使用iframe的框架。

具体实现思路和方法：

创建一个cache.js文件：前端页面，定义那些数据需要一次性拿到前端缓存，定义一个对象来保存这些数据即可！

### 单个请求数据量过大，如何优化？请做详细描述！

答： 请求压缩，大部分浏览器支持的是：Gzip格式，实现步骤：

1.浏览器请求服务器时，服务器可以获取到浏览器支持的格式；

2.在服务器代码中，加入判断浏览器支持压缩的格式，按照符合的格式压缩请求；

3.返回给浏览器。浏览器可以自行解析。 

### css Javascript如何压缩引入？

答: 可以使用打包工具，比如: YUI Compressor, Microsoft AjaxMin, uglifyjs uglifycss,或者在MVC程序中，可以使用BundleConfig压缩，把多个css,js 集合到某一个包，在项目使用的时候仅仅只需要引入集合包即可！

### 谈谈css js 加载的顺序对页面性能的影响！

答：

1.将 CSS 放在 head 标签里

2.启用 CDN 优化静态资源加载速度

3.合理使用外部 JS 的三种加载方式

正常模式：
 这种情况下 JS 会阻塞浏览器，浏览器必须等待 index.js 加载和执行完毕才能去做其它事情。 

async 模式：
 async 模式下，JS 不会阻塞浏览器做任何其它的事情。它的加载是异步的，当它加载结束，JS 脚本会立即执行。 

defer 模式：
 defer 模式下，JS 的加载是异步的，执行是被推迟的。等整个文档解析完成、DOMContentLoaded 事件即将被触发时，被标记了 defer 的 JS 文件才会开始依次执行。

 

### 如果页面中图片太多，从性能上来说，如何提高性能？

答：

1. 方案一:将图片服务和应用服务分离(从架构师的角度思考)

2. 图片懒加载：像淘宝或者京东这样的APP页面上有很多图片,当我们滑到下一屏时下一屏的图片才会加载,这就采用了图片懒加载的方式.

3. css Sprites：当网站或者APP有大量小icon,如果上传到图片服务器比如CDN, 要加载所有这些小icon将增加大量请求,而CDN是按流量收费的,这无疑将增加很多成本.

CSS Sprites 技术早已不新鲜,就是将这些小icon合并成一张图片,只需要加载一次,每次通过background-position来控制显示icon,这样就可以节约大量请求,节约成本.

### 详解IIS如何调优？

答：

https://www.cnblogs.com/xinaixia/p/5945678.html

https://www.cnblogs.com/hgamezoom/p/3082538.html

　

### 谈谈你在之前工作中，有关于后端性能优化的经验！

答：
​    程序的优化：这是一个很大的话题，我这里就选几个常见的。比如减少代码的层级结构、避免循环嵌套、避免循环CURD数据库、优化算法等等。

​    数据库的优化：（由于数据库优化不是本题重点，所以可选几个主要的来说）比如启用数据库缓存、常用的字段建索引、尽量避免大事务操作、避免select * 的写法、尽量不用in和not in 这种耗性能的用法等等。

​    服务器优化：（这个可作为可选项）负载均衡、Web服务器和数据库分离、UI和Service分离等等。



 

 

### 谈谈你了解的缓存

答：本地缓存，分布式缓存，Memcache,Redis;Mongodb；

 ### 请描述Redis的特点

 答：

​    https://www.cnblogs.com/joylee/p/redisscene.html

 

### 谈谈stringbuilder和stringbuffer区别

 答：我就string, stringbuilder和stringbuffer三者做个比较：  string是基本类型，是不可改变对象，例如：string s1="test";实际上是创建了一个名字为s1的string类型对象，系统为s1创建足够的内存来存储它，s1+="ceshi"，并不是在s1所指向的地址内添加字符串“cehsi”，而是新建了一个“testceshi”字符串并将s1指向这个新的字符串，系统将原来的“test”注销掉，如果频繁的进行字符串的修改会严重影响系统性能。 stringBuilder和string的初始化，string初始化时，系统会为其分配足够的内存来容纳其所定义的字符串文本，但是stringbuilder有很多构造函数来实例化当前实例的初始大小以及可存储的最大字符数，在使用是最好将容量设置为字符串的最大长度，确保他不需要重新分配内存，如果字符的数量超过了设置的最大值，.net运行库将自动分配内存并翻倍，stringbulider可以显示的设置分配内存的大小，而string只能根据初始化字符串的大小由系统来分配足够的内存。在上述情况中，stringbuffer和stringbuilder是一样的，后者速度比前者快，但是后者是线程不安全的，前者是线程安全的。

 

### 谈谈ArrayList和List<>的性能区别

答：ArrayList的每一个Add方法，都需要将数据进行装箱操作，而如果提取的值是值类型又会涉及拆箱动作，而装箱和拆箱是有损性能的。是会耗时的。

 

### 说说  123+”字符串”  和  123.Tostring() 的区别。

答：123+”字符串” 这种方法虽然简单，也可以得到正确结果，但是由于涉及到不同的数据类型，数字需要通过装箱操作转化为引用类型才可以添加到字符串中。使用值类型的ToString方法可以避免装箱操作，从而提高应用程序性能

### 代码中出现 字符串A.ToUpper()==字符串B 或者  字符串A .ToLower()==字符串B，你会怎么处理？

答：字符串比较不区分大小写可优化为：String.Compare(字符串A,字符串B ,true) == 0 或者String.Compare(字符串A,字符串B ,true) == 0 

### 代码中出现 strCriteria.Trim() == ""， strCriteria为字符串类型变量； 你会怎么调整？

答：可调整为：strCriteria.length==0

 

### 说说装箱拆箱的为什么会有性能问题

答：装箱和取消装箱过程需要进行大量的计算。对值类型进行装箱时，必须分配并构造一个全新的对象。内存拷贝，从引用类型转换成值类型，需要从堆拷贝到栈！处理器处理的事情多了，自然引发性能问题。

 

### Object类型使用引发的性能问题，如何解决？

答：可以用泛型替代object的使用；

### 说说foreach 和 for 循环从性能角度的区别

答：对于for循环就是调用get(i)取得元素，而对于foreach是通过iterator实现的遍历，

对于ArrayList来说，它是通过一个数组实现的，可以随机存取；但是LinkedList是通过链表实现的，for循环时要获取第i个元素必须从头开始遍历，而iterator遍历就是从头开始遍历，遍历完只需要一次，所以for循环需要的时间远远超过foreach循环。

 对于数组来说，for和foreach循环效率差不多，但是对于链表来说，for循环效率明显比foreach低。

 ### 在多任务执行的时候，使用多线程，应该注意些什么

答：

1. 是否适合使用多线程；

2. 多线程临时变量问题，

3. 线程数量的控制问题，并不是线程越多越好，线程也是需要系统开销的！

4. 线程安全问题！

 

### 在一个网站首页，分为多块的数据，例如：有本周top10，本月top10,个人考勤等！多种数据在首页展示，如果让你来开发，除了使用ajax异步加载，还有什么其他方法能够让数据快速的加载出来？ 请详解开发思路！

答：可以使用多线程，开启多个任务去获取数据，多个任务执行完毕以后，执行回调函数，就直接返回！既多线程中的执行完毕就执行回调，Task 提供完美Api直接调用！

### 一个电商系统中，某一些订单的数据，可能来源于第三方接口，也可能来源于缓存，也有可能来源于数据库，如何以最高效的方式获取到数据？请详解你的思路？

答：可以使用多线程，开启多个线程任务去获取数据，分别到数据库，缓存，第三方接口去获取数据，只要有一个线程获取到数据以后，就直接返回！既多线程某一个任务执行完毕就执行回调，Task 提供完美Api直接调用！

### 如果有100个任务需要执行，需要快速的去完成，使用多线程如何实现？是否开启100个线程？为什么？

答：100个任务开启100个线程去执行是不合理的，线程越多，系统的线程开销就越大，反而性能得不到保障，可以开启10个线程去执行，某一个线程的任务执行完毕，就紧接着执行下一个任务，线程控制在10个线程即可！可以使用Parallel，同时使用ParallelOptions控制线程数量。

### 说说在程序中连接数据库查询，如何避免一些性能问题？

答：

1. 数据库连接不要频繁的打开和关闭
2. 不要循环数据去查询数据库。
3. 编写简洁的sql语句；
4. 使用的数据源尽量一次性取出，业务逻辑处理由Web服务器处理；
5. 不要一次取出体量太大的数据。
6. 尽量不要使用数据库存储过程。

 

### 谈谈在写sql语句的时候，如何提高性能？

 

答：

1. 统一Sql语句的写法，同一句sql语句，如果出现大小写不同，就是多个不同的执行计划；

2. 不要把Sql写的过于复杂，尽量降低子查询的数量。

3. 如果有中间数据，尽量使用临时表。

4. 只有在必要的情况下，才使用事务；不要任何一句语句都加事务操作；

5. 尽量少使用模糊查询like;

6. 关联查询尽量少用；

7. 尽量使用系统函数；

 

### 谈谈数据库的索引！使用索引需要注意些什么？

答：sqlserver中有多种索引类型：按存储结构区分：“聚集索引”，“非聚集索引”；按数据唯一性区分：“唯一索引”，“非唯一索引”。索引就和书本的目录一样，都是为了在查询的时候，能够尽快的定位到数据；下面我对索引的使用提一下建议：

选择较小的列创建索引，如果超过了900B的列不允许创建索引，组合索引最多限制是16个列，列宽之和要小于900B，注意索引的类型（聚集索引通常在标识列上），用Include索引取代组合索引，使用非聚集的Include索引涵盖查询，使用索引视图优化聚合计算（在不经常修改数据的表上），常用的列放在前面，不会作为查询条件的列可以放在Include中，确定哪些列应该创建索引(PK、FK、Unique常用于作为查询条件的列,Group by的列等)，检查其他的索引是否是必须的(很少用到的索引，尽可能的去掉);

 

### 谈谈数据库分库分表的方式

答： 

1. 垂直切分：

根据业务的不同，将原先拥有很多字段的表拆分为两个或者多个表，这样的代价我个人觉得很大，原来对这应这个表的关系，开始细分，需要一定的重构，而且随着数据量的增多，极有可能还要增加水平切分；

2. 水平切分：

数据库/数据表结构相同，将数据分散在多个数据库/表中；

3. 取模分库：

一般的取模分库分表是就是将id mod n，然后放入数据库中，这样能够使数据分散，不会有热点的问题，那么，剩下的是，在扩容的时候，是否会有数据迁移的问题，一般的扩容，当然是会有数据迁移的。

 

### 谈谈如何做数据库集群？

 

答：

 

### 谈谈数据库如何配置读写分离？

 

答：

 

### 谈谈你了解到的队列有哪些？

 答：

RabbitMQ：

RabbitMQ是使用Erlang编写的一个开源的消息队列，本身支持很多的协议：AMQP，XMPP, SMTP, STOMP，也正因如此，它非常重量级，更适合于企业级的开发。同时实现了Broker构架，这意味着消息在发送给客户端时先在中心队列排队。对路由，负载均衡或者数据持久化都有很好的支持。

Redis：

Redis是一个基于Key-Value对的NoSQL数据库，开发维护很活跃。虽然它是一个Key-Value数据库存储系统，但它本身支持MQ功能，所以完全可以当做一个轻量级的队列服务来使用。对于RabbitMQ和Redis的入队和出队操作，各执行100万次，每10万次记录一次执行时间。测试数据分为128Bytes、512Bytes、1K和10K四个不同大小的数据。实验表明：入队时，当数据比较小时Redis的性能要高于RabbitMQ，而如果数据大小超过了10K，Redis则慢的无法忍受；出队时，无论数据大小，Redis都表现出非常好的性能，而RabbitMQ的出队性能则远低于Redis。

异常快速

支持丰富的数据类型

所有操作都是原子的

ZeroMQ：

ZeroMQ号称最快的消息队列系统，尤其针对大吞吐量的需求场景。ZMQ能够实现RabbitMQ不擅长的高级/复杂的队列，但是开发人员需要自己组合多种技术框架，技术上的复杂度是对这MQ能够应用成功的挑战。ZeroMQ具有一个独特的非中间件的模式，你不需要安装和运行一个消息服务器或中间件，因为你的应用程序将扮演了这个服务角色。你只需要简单的引用ZeroMQ程序库，可以使用NuGet安装，然后你就可以愉快的在应用程序之间发送消息了。但是ZeroMQ仅提供非持久性的队列，也就是说如果down机，数据将会丢失。其中，Twitter的Storm中默认使用ZeroMQ作为数据流的传输。

ActiveMQ：

ActiveMQ是Apache下的一个子项目。 ActiveMQ 是一个完全支持JMS1.1和J2EE 1.4规范的 JMS Provider实现，持久化，类似于ZeroMQ，它能够以代理人和点对点的技术实现队列。同时类似于RabbitMQ，它少量代码就可以高效地实现高级应用场景。在询证调研过程中，ActiveMQ会因为频繁发送大数据消息而偶尔出现崩溃的情况。

Kafka/Jafka：

Kafka是Apache下的一个子项目，是一个高性能跨语言分布式Publish/Subscribe消息队列系统，而Jafka是在Kafka之上孵化而来的，即Kafka的一个升级版。具有以下特性：

通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。（文件追加的方式写入数据，过期的数据定期删除）

高吞吐量：即使是非常普通的硬件Kafka也可以支持每秒数百万的消息。

支持通过Kafka服务器和消费机集群来分区消息。

支持Hadoop并行数据加载。

 

 

### 如果一个系统出现性能瓶颈，让你来处理的话，说说你的性能优化计划。

答：

1. 从数据库层面优化性能，数据库的性能问题一般会先出现，从Sql语句层面优化，规范sql语句，根据查询特点增加索引。

2. 思考配置读数据库读写分离，分库分表；

3. 从代码层面优化，简化代码；

4. 横向扩展服务器，搭建服务器集群，负载均衡！

 
